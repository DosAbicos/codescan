{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"runAtTargetFps\", {\n    enumerable: true,\n    get: function () {\n      return runAtTargetFps;\n    }\n  });\n  const _worklet_8194825293313_init_data = {\n    code: \"function getLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs1(frameProcessorFuncId){var _global$__frameProces,_global$__frameProces2;return(_global$__frameProces=(_global$__frameProces2=global.__frameProcessorRunAtTargetFpsMap)===null||_global$__frameProces2===void 0?void 0:_global$__frameProces2[frameProcessorFuncId])!==null&&_global$__frameProces!==void 0?_global$__frameProces:0;}\",\n    location: \"/app/frontend/node_modules/react-native-vision-camera/lib/module/frame-processors/runAtTargetFps.js\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"getLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs1\\\",\\\"frameProcessorFuncId\\\",\\\"_global$__frameProces\\\",\\\"_global$__frameProces2\\\",\\\"global\\\",\\\"__frameProcessorRunAtTargetFpsMap\\\"],\\\"sources\\\":[\\\"/app/frontend/node_modules/react-native-vision-camera/lib/module/frame-processors/runAtTargetFps.js\\\"],\\\"mappings\\\":\\\"AAAA,SAAAA,mEAAyDA,CAAAC,oBAAA,MAAAC,qBAAA,CAAAC,sBAAA,CAGvD,OAAAD,qBAAA,EAAAC,sBAAA,CAAOC,MAAM,CAACC,iCAAiC,UAAAF,sBAAA,iBAAxCA,sBAAA,CAA2CF,oBAAoB,CAAC,UAAAC,qBAAA,UAAAA,qBAAA,CAAI,CAAC,CAC9E\\\",\\\"ignoreList\\\":[]}\"\n  };\n  const getLastFrameProcessorCall = function getLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs1Factory({\n    _worklet_8194825293313_init_data\n  }) {\n    const _e = [new global.Error(), 1, -27];\n    const getLastFrameProcessorCall = function (frameProcessorFuncId) {\n      return global.__frameProcessorRunAtTargetFpsMap?.[frameProcessorFuncId] ?? 0;\n    };\n    getLastFrameProcessorCall.__closure = {};\n    getLastFrameProcessorCall.__workletHash = 8194825293313;\n    getLastFrameProcessorCall.__pluginVersion = \"0.7.1\";\n    getLastFrameProcessorCall.__initData = _worklet_8194825293313_init_data;\n    getLastFrameProcessorCall.__stackDetails = _e;\n    return getLastFrameProcessorCall;\n  }({\n    _worklet_8194825293313_init_data\n  });\n  const _worklet_4153016578430_init_data = {\n    code: \"function setLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs2(frameProcessorFuncId,value){if(global.__frameProcessorRunAtTargetFpsMap==null)global.__frameProcessorRunAtTargetFpsMap={};global.__frameProcessorRunAtTargetFpsMap[frameProcessorFuncId]=value;}\",\n    location: \"/app/frontend/node_modules/react-native-vision-camera/lib/module/frame-processors/runAtTargetFps.js\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"setLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs2\\\",\\\"frameProcessorFuncId\\\",\\\"value\\\",\\\"global\\\",\\\"__frameProcessorRunAtTargetFpsMap\\\"],\\\"sources\\\":[\\\"/app/frontend/node_modules/react-native-vision-camera/lib/module/frame-processors/runAtTargetFps.js\\\"],\\\"mappings\\\":\\\"AAKA,SAAAA,mEAAgEA,CAAAC,oBAAA,CAAAC,KAAA,EAG9D,GAAIC,MAAM,CAACC,iCAAiC,EAAI,IAAI,CAAED,MAAM,CAACC,iCAAiC,CAAG,CAAC,CAAC,CACnGD,MAAM,CAACC,iCAAiC,CAACH,oBAAoB,CAAC,CAAGC,KAAK,CACxE\\\",\\\"ignoreList\\\":[]}\"\n  };\n  const setLastFrameProcessorCall = function setLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs2Factory({\n    _worklet_4153016578430_init_data\n  }) {\n    const _e = [new global.Error(), 1, -27];\n    const setLastFrameProcessorCall = function (frameProcessorFuncId, value) {\n      if (global.__frameProcessorRunAtTargetFpsMap == null) global.__frameProcessorRunAtTargetFpsMap = {};\n      global.__frameProcessorRunAtTargetFpsMap[frameProcessorFuncId] = value;\n    };\n    setLastFrameProcessorCall.__closure = {};\n    setLastFrameProcessorCall.__workletHash = 4153016578430;\n    setLastFrameProcessorCall.__pluginVersion = \"0.7.1\";\n    setLastFrameProcessorCall.__initData = _worklet_4153016578430_init_data;\n    setLastFrameProcessorCall.__stackDetails = _e;\n    return setLastFrameProcessorCall;\n  }({\n    _worklet_4153016578430_init_data\n  });\n  /**\n   * Runs the given {@linkcode func} at the given target {@linkcode fps} rate.\n   *\n   * {@linkcode runAtTargetFps} still executes the given {@linkcode func} synchronously,\n   * so this is only useful for throttling calls to a plugin or logger.\n   *\n   * For example, if you want to scan faces only once per second to avoid excessive\n   * CPU usage, use {@linkcode runAtTargetFps runAtTargetFps(1, ...)}.\n   *\n   * @param fps The target FPS rate at which the given function should be executed\n   * @param func The function to execute.\n   * @returns The result of the function if it was executed, or `undefined` otherwise.\n   * @worklet\n   * @example\n   *\n   * ```ts\n   * const frameProcessor = useFrameProcessor((frame) => {\n   *   'worklet'\n   *   console.log('New Frame')\n   *   runAtTargetFps(5, () => {\n   *     'worklet'\n   *     const faces = detectFaces(frame)\n   *     console.log(`Detected a new face: ${faces[0]}`)\n   *   })\n   * })\n   * ```\n   */\n  const _worklet_12248206927550_init_data = {\n    code: \"function runAtTargetFps_reactNativeVisionCamera_runAtTargetFpsJs3(fps,func){const{getLastFrameProcessorCall,setLastFrameProcessorCall}=this.__closure;var _func$__workletHash;const funcId=(_func$__workletHash=func.__workletHash)!==null&&_func$__workletHash!==void 0?_func$__workletHash:'1';const targetIntervalMs=1000/fps;const now=performance.now();const diffToLastCall=now-getLastFrameProcessorCall(funcId);if(diffToLastCall>=targetIntervalMs){setLastFrameProcessorCall(funcId,now);return func();}return undefined;}\",\n    location: \"/app/frontend/node_modules/react-native-vision-camera/lib/module/frame-processors/runAtTargetFps.js\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"runAtTargetFps_reactNativeVisionCamera_runAtTargetFpsJs3\\\",\\\"fps\\\",\\\"func\\\",\\\"getLastFrameProcessorCall\\\",\\\"setLastFrameProcessorCall\\\",\\\"__closure\\\",\\\"_func$__workletHash\\\",\\\"funcId\\\",\\\"__workletHash\\\",\\\"targetIntervalMs\\\",\\\"now\\\",\\\"performance\\\",\\\"diffToLastCall\\\",\\\"undefined\\\"],\\\"sources\\\":[\\\"/app/frontend/node_modules/react-native-vision-camera/lib/module/frame-processors/runAtTargetFps.js\\\"],\\\"mappings\\\":\\\"AAuCO,SAAAA,wDAAmCA,CAAAC,GAAA,CAAAC,IAAA,QAAAC,yBAAA,CAAAC,yBAAA,OAAAC,SAAA,KAAAC,mBAAA,CAKxC,KAAM,CAAAC,MAAM,EAAAD,mBAAA,CAAGJ,IAAI,CAACM,aAAa,UAAAF,mBAAA,UAAAA,mBAAA,CAAI,GAAG,CACxC,KAAM,CAAAG,gBAAgB,CAAG,IAAI,CAAGR,GAAG,CACnC,KAAM,CAAAS,GAAG,CAAGC,WAAW,CAACD,GAAG,CAAC,CAAC,CAC7B,KAAM,CAAAE,cAAc,CAAGF,GAAG,CAAGP,yBAAyB,CAACI,MAAM,CAAC,CAC9D,GAAIK,cAAc,EAAIH,gBAAgB,CAAE,CACtCL,yBAAyB,CAACG,MAAM,CAAEG,GAAG,CAAC,CAEtC,MAAO,CAAAR,IAAI,CAAC,CAAC,CACf,CACA,MAAO,CAAAW,SAAS,CAClB\\\",\\\"ignoreList\\\":[]}\"\n  };\n  const runAtTargetFps = function runAtTargetFps_reactNativeVisionCamera_runAtTargetFpsJs3Factory({\n    _worklet_12248206927550_init_data,\n    getLastFrameProcessorCall,\n    setLastFrameProcessorCall\n  }) {\n    const _e = [new global.Error(), -3, -27];\n    const runAtTargetFps = function (fps, func) {\n      // @ts-expect-error\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const funcId = func.__workletHash ?? '1';\n      const targetIntervalMs = 1000 / fps; // <-- 60 FPS => 16,6667ms interval\n      const now = performance.now();\n      const diffToLastCall = now - getLastFrameProcessorCall(funcId);\n      if (diffToLastCall >= targetIntervalMs) {\n        setLastFrameProcessorCall(funcId, now);\n        // Last Frame Processor call is already so long ago that we want to make a new call\n        return func();\n      }\n      return undefined;\n    };\n    runAtTargetFps.__closure = {\n      getLastFrameProcessorCall,\n      setLastFrameProcessorCall\n    };\n    runAtTargetFps.__workletHash = 12248206927550;\n    runAtTargetFps.__pluginVersion = \"0.7.1\";\n    runAtTargetFps.__initData = _worklet_12248206927550_init_data;\n    runAtTargetFps.__stackDetails = _e;\n    return runAtTargetFps;\n  }({\n    _worklet_12248206927550_init_data,\n    getLastFrameProcessorCall,\n    setLastFrameProcessorCall\n  });\n});","lineCount":122,"map":[[7,2,40,0,"Object"],[7,8,40,0],[7,9,40,0,"defineProperty"],[7,23,40,0],[7,24,40,0,"exports"],[7,31,40,0],[8,4,40,0,"enumerable"],[8,14,40,0],[9,4,40,0,"get"],[9,7,40,0],[9,18,40,0,"get"],[9,19,40,0],[10,6,40,0],[10,13,40,0,"runAtTargetFps"],[10,27,40,0],[11,4,40,0],[12,2,40,0],[13,2,55,1],[13,8,55,1,"_worklet_8194825293313_init_data"],[13,40,55,1],[14,4,55,1,"code"],[14,8,55,1],[15,4,55,1,"location"],[15,12,55,1],[16,4,55,1,"sourceMap"],[16,13,55,1],[17,2,55,1],[18,2,55,1],[18,8,55,1,"getLastFrameProcessorCall"],[18,33,55,1],[18,36,1,0],[18,45,1,0,"getLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs1Factory"],[18,120,1,0],[19,4,1,0,"_worklet_8194825293313_init_data"],[20,2,1,0],[21,4,1,0],[21,10,1,0,"_e"],[21,12,1,0],[21,20,1,0,"global"],[21,26,1,0],[21,27,1,0,"Error"],[21,32,1,0],[22,4,1,0],[22,10,1,0,"getLastFrameProcessorCall"],[22,35,1,0],[22,47,1,0,"getLastFrameProcessorCall"],[22,48,1,35,"frameProcessorFuncId"],[22,68,1,55],[22,70,1,57],[23,6,4,2],[23,13,4,9,"global"],[23,19,4,15],[23,20,4,16,"__frameProcessorRunAtTargetFpsMap"],[23,53,4,49],[23,56,4,52,"frameProcessorFuncId"],[23,76,4,72],[23,77,4,73],[23,81,4,77],[23,82,4,78],[24,4,5,0],[24,5,5,1],[25,4,5,1,"getLastFrameProcessorCall"],[25,29,5,1],[25,30,5,1,"__closure"],[25,39,5,1],[26,4,5,1,"getLastFrameProcessorCall"],[26,29,5,1],[26,30,5,1,"__workletHash"],[26,43,5,1],[27,4,5,1,"getLastFrameProcessorCall"],[27,29,5,1],[27,30,5,1,"__pluginVersion"],[27,45,5,1],[28,4,5,1,"getLastFrameProcessorCall"],[28,29,5,1],[28,30,5,1,"__initData"],[28,40,5,1],[28,43,5,1,"_worklet_8194825293313_init_data"],[28,75,5,1],[29,4,5,1,"getLastFrameProcessorCall"],[29,29,5,1],[29,30,5,1,"__stackDetails"],[29,44,5,1],[29,47,5,1,"_e"],[29,49,5,1],[30,4,5,1],[30,11,5,1,"getLastFrameProcessorCall"],[30,36,5,1],[31,2,5,1],[31,3,1,0],[32,4,1,0,"_worklet_8194825293313_init_data"],[33,2,1,0],[34,2,1,0],[34,8,1,0,"_worklet_4153016578430_init_data"],[34,40,1,0],[35,4,1,0,"code"],[35,8,1,0],[36,4,1,0,"location"],[36,12,1,0],[37,4,1,0,"sourceMap"],[37,13,1,0],[38,2,1,0],[39,2,1,0],[39,8,1,0,"setLastFrameProcessorCall"],[39,33,1,0],[39,36,6,0],[39,45,6,0,"setLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs2Factory"],[39,120,6,0],[40,4,6,0,"_worklet_4153016578430_init_data"],[41,2,6,0],[42,4,6,0],[42,10,6,0,"_e"],[42,12,6,0],[42,20,6,0,"global"],[42,26,6,0],[42,27,6,0,"Error"],[42,32,6,0],[43,4,6,0],[43,10,6,0,"setLastFrameProcessorCall"],[43,35,6,0],[43,47,6,0,"setLastFrameProcessorCall"],[43,48,6,35,"frameProcessorFuncId"],[43,68,6,55],[43,70,6,57,"value"],[43,75,6,62],[43,77,6,64],[44,6,9,2],[44,10,9,6,"global"],[44,16,9,12],[44,17,9,13,"__frameProcessorRunAtTargetFpsMap"],[44,50,9,46],[44,54,9,50],[44,58,9,54],[44,60,9,56,"global"],[44,66,9,62],[44,67,9,63,"__frameProcessorRunAtTargetFpsMap"],[44,100,9,96],[44,103,9,99],[44,104,9,100],[44,105,9,101],[45,6,10,2,"global"],[45,12,10,8],[45,13,10,9,"__frameProcessorRunAtTargetFpsMap"],[45,46,10,42],[45,47,10,43,"frameProcessorFuncId"],[45,67,10,63],[45,68,10,64],[45,71,10,67,"value"],[45,76,10,72],[46,4,11,0],[46,5,11,1],[47,4,11,1,"setLastFrameProcessorCall"],[47,29,11,1],[47,30,11,1,"__closure"],[47,39,11,1],[48,4,11,1,"setLastFrameProcessorCall"],[48,29,11,1],[48,30,11,1,"__workletHash"],[48,43,11,1],[49,4,11,1,"setLastFrameProcessorCall"],[49,29,11,1],[49,30,11,1,"__pluginVersion"],[49,45,11,1],[50,4,11,1,"setLastFrameProcessorCall"],[50,29,11,1],[50,30,11,1,"__initData"],[50,40,11,1],[50,43,11,1,"_worklet_4153016578430_init_data"],[50,75,11,1],[51,4,11,1,"setLastFrameProcessorCall"],[51,29,11,1],[51,30,11,1,"__stackDetails"],[51,44,11,1],[51,47,11,1,"_e"],[51,49,11,1],[52,4,11,1],[52,11,11,1,"setLastFrameProcessorCall"],[52,36,11,1],[53,2,11,1],[53,3,6,0],[54,4,6,0,"_worklet_4153016578430_init_data"],[55,2,6,0],[56,2,13,0],[57,0,14,0],[58,0,15,0],[59,0,16,0],[60,0,17,0],[61,0,18,0],[62,0,19,0],[63,0,20,0],[64,0,21,0],[65,0,22,0],[66,0,23,0],[67,0,24,0],[68,0,25,0],[69,0,26,0],[70,0,27,0],[71,0,28,0],[72,0,29,0],[73,0,30,0],[74,0,31,0],[75,0,32,0],[76,0,33,0],[77,0,34,0],[78,0,35,0],[79,0,36,0],[80,0,37,0],[81,0,38,0],[82,0,39,0],[83,2,13,0],[83,8,13,0,"_worklet_12248206927550_init_data"],[83,41,13,0],[84,4,13,0,"code"],[84,8,13,0],[85,4,13,0,"location"],[85,12,13,0],[86,4,13,0,"sourceMap"],[86,13,13,0],[87,2,13,0],[88,2,13,0],[88,8,13,0,"runAtTargetFps"],[88,22,13,0],[88,25,40,7],[88,34,40,7,"runAtTargetFps_reactNativeVisionCamera_runAtTargetFpsJs3Factory"],[88,98,40,7],[89,4,40,7,"_worklet_12248206927550_init_data"],[89,37,40,7],[90,4,48,31,"getLastFrameProcessorCall"],[90,29,48,56],[91,4,50,4,"setLastFrameProcessorCall"],[92,2,50,29],[93,4,50,29],[93,10,50,29,"_e"],[93,12,50,29],[93,20,50,29,"global"],[93,26,50,29],[93,27,50,29,"Error"],[93,32,50,29],[94,4,50,29],[94,10,50,29,"runAtTargetFps"],[94,24,50,29],[94,36,50,29,"runAtTargetFps"],[94,37,40,31,"fps"],[94,40,40,34],[94,42,40,36,"func"],[94,46,40,40],[94,48,40,42],[95,6,43,2],[96,6,44,2],[97,6,45,2],[97,12,45,8,"funcId"],[97,18,45,14],[97,21,45,17,"func"],[97,25,45,21],[97,26,45,22,"__workletHash"],[97,39,45,35],[97,43,45,39],[97,46,45,42],[98,6,46,2],[98,12,46,8,"targetIntervalMs"],[98,28,46,24],[98,31,46,27],[98,35,46,31],[98,38,46,34,"fps"],[98,41,46,37],[98,42,46,38],[98,43,46,39],[99,6,47,2],[99,12,47,8,"now"],[99,15,47,11],[99,18,47,14,"performance"],[99,29,47,25],[99,30,47,26,"now"],[99,33,47,29],[99,34,47,30],[99,35,47,31],[100,6,48,2],[100,12,48,8,"diffToLastCall"],[100,26,48,22],[100,29,48,25,"now"],[100,32,48,28],[100,35,48,31,"getLastFrameProcessorCall"],[100,60,48,56],[100,61,48,57,"funcId"],[100,67,48,63],[100,68,48,64],[101,6,49,2],[101,10,49,6,"diffToLastCall"],[101,24,49,20],[101,28,49,24,"targetIntervalMs"],[101,44,49,40],[101,46,49,42],[102,8,50,4,"setLastFrameProcessorCall"],[102,33,50,29],[102,34,50,30,"funcId"],[102,40,50,36],[102,42,50,38,"now"],[102,45,50,41],[102,46,50,42],[103,8,51,4],[104,8,52,4],[104,15,52,11,"func"],[104,19,52,15],[104,20,52,16],[104,21,52,17],[105,6,53,2],[106,6,54,2],[106,13,54,9,"undefined"],[106,22,54,18],[107,4,55,0],[107,5,55,1],[108,4,55,1,"runAtTargetFps"],[108,18,55,1],[108,19,55,1,"__closure"],[108,28,55,1],[109,6,48,31,"getLastFrameProcessorCall"],[109,31,48,56],[110,6,50,4,"setLastFrameProcessorCall"],[111,4,50,29],[112,4,50,29,"runAtTargetFps"],[112,18,50,29],[112,19,50,29,"__workletHash"],[112,32,50,29],[113,4,50,29,"runAtTargetFps"],[113,18,50,29],[113,19,50,29,"__pluginVersion"],[113,34,50,29],[114,4,50,29,"runAtTargetFps"],[114,18,50,29],[114,19,50,29,"__initData"],[114,29,50,29],[114,32,50,29,"_worklet_12248206927550_init_data"],[114,65,50,29],[115,4,50,29,"runAtTargetFps"],[115,18,50,29],[115,19,50,29,"__stackDetails"],[115,33,50,29],[115,36,50,29,"_e"],[115,38,50,29],[116,4,50,29],[116,11,50,29,"runAtTargetFps"],[116,25,50,29],[117,2,50,29],[117,3,40,7],[118,4,40,7,"_worklet_12248206927550_init_data"],[118,37,40,7],[119,4,48,31,"getLastFrameProcessorCall"],[119,29,48,56],[120,4,50,4,"setLastFrameProcessorCall"],[121,2,50,29],[122,0,50,29],[122,3]],"functionMap":{"names":["getLastFrameProcessorCall","<global>","setLastFrameProcessorCall","runAtTargetFps"],"mappings":"AAA;CCI;ACC;CDK;OE6B;CFe"},"hasCjsExports":false},"type":"js/module"}]}