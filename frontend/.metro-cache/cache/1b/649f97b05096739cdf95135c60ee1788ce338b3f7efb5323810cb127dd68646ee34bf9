{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.runAtTargetFps = runAtTargetFps;\n  const _worklet_8194825293313_init_data = {\n    code: \"function getLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs1(frameProcessorFuncId){var _global$__frameProces,_global$__frameProces2;return(_global$__frameProces=(_global$__frameProces2=global.__frameProcessorRunAtTargetFpsMap)===null||_global$__frameProces2===void 0?void 0:_global$__frameProces2[frameProcessorFuncId])!==null&&_global$__frameProces!==void 0?_global$__frameProces:0;}\",\n    location: \"/app/frontend/node_modules/react-native-vision-camera/lib/commonjs/frame-processors/runAtTargetFps.js\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"getLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs1\\\",\\\"frameProcessorFuncId\\\",\\\"_global$__frameProces\\\",\\\"_global$__frameProces2\\\",\\\"global\\\",\\\"__frameProcessorRunAtTargetFpsMap\\\"],\\\"sources\\\":[\\\"/app/frontend/node_modules/react-native-vision-camera/lib/commonjs/frame-processors/runAtTargetFps.js\\\"],\\\"mappings\\\":\\\"AAMA,SAAAA,mEAAyDA,CAAAC,oBAAA,MAAAC,qBAAA,CAAAC,sBAAA,CAGvD,OAAAD,qBAAA,EAAAC,sBAAA,CAAOC,MAAM,CAACC,iCAAiC,UAAAF,sBAAA,iBAAxCA,sBAAA,CAA2CF,oBAAoB,CAAC,UAAAC,qBAAA,UAAAA,qBAAA,CAAI,CAAC,CAC9E\\\",\\\"ignoreList\\\":[]}\"\n  };\n  const getLastFrameProcessorCall = function getLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs1Factory({\n    _worklet_8194825293313_init_data\n  }) {\n    const _e = [new global.Error(), 1, -27];\n    const getLastFrameProcessorCall = function (frameProcessorFuncId) {\n      return global.__frameProcessorRunAtTargetFpsMap?.[frameProcessorFuncId] ?? 0;\n    };\n    getLastFrameProcessorCall.__closure = {};\n    getLastFrameProcessorCall.__workletHash = 8194825293313;\n    getLastFrameProcessorCall.__pluginVersion = \"0.7.1\";\n    getLastFrameProcessorCall.__initData = _worklet_8194825293313_init_data;\n    getLastFrameProcessorCall.__stackDetails = _e;\n    return getLastFrameProcessorCall;\n  }({\n    _worklet_8194825293313_init_data\n  });\n  const _worklet_4153016578430_init_data = {\n    code: \"function setLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs2(frameProcessorFuncId,value){if(global.__frameProcessorRunAtTargetFpsMap==null)global.__frameProcessorRunAtTargetFpsMap={};global.__frameProcessorRunAtTargetFpsMap[frameProcessorFuncId]=value;}\",\n    location: \"/app/frontend/node_modules/react-native-vision-camera/lib/commonjs/frame-processors/runAtTargetFps.js\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"setLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs2\\\",\\\"frameProcessorFuncId\\\",\\\"value\\\",\\\"global\\\",\\\"__frameProcessorRunAtTargetFpsMap\\\"],\\\"sources\\\":[\\\"/app/frontend/node_modules/react-native-vision-camera/lib/commonjs/frame-processors/runAtTargetFps.js\\\"],\\\"mappings\\\":\\\"AAWA,SAAAA,mEAAgEA,CAAAC,oBAAA,CAAAC,KAAA,EAG9D,GAAIC,MAAM,CAACC,iCAAiC,EAAI,IAAI,CAAED,MAAM,CAACC,iCAAiC,CAAG,CAAC,CAAC,CACnGD,MAAM,CAACC,iCAAiC,CAACH,oBAAoB,CAAC,CAAGC,KAAK,CACxE\\\",\\\"ignoreList\\\":[]}\"\n  };\n  const setLastFrameProcessorCall = function setLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs2Factory({\n    _worklet_4153016578430_init_data\n  }) {\n    const _e = [new global.Error(), 1, -27];\n    const setLastFrameProcessorCall = function (frameProcessorFuncId, value) {\n      if (global.__frameProcessorRunAtTargetFpsMap == null) global.__frameProcessorRunAtTargetFpsMap = {};\n      global.__frameProcessorRunAtTargetFpsMap[frameProcessorFuncId] = value;\n    };\n    setLastFrameProcessorCall.__closure = {};\n    setLastFrameProcessorCall.__workletHash = 4153016578430;\n    setLastFrameProcessorCall.__pluginVersion = \"0.7.1\";\n    setLastFrameProcessorCall.__initData = _worklet_4153016578430_init_data;\n    setLastFrameProcessorCall.__stackDetails = _e;\n    return setLastFrameProcessorCall;\n  }({\n    _worklet_4153016578430_init_data\n  });\n  /**\n   * Runs the given {@linkcode func} at the given target {@linkcode fps} rate.\n   *\n   * {@linkcode runAtTargetFps} still executes the given {@linkcode func} synchronously,\n   * so this is only useful for throttling calls to a plugin or logger.\n   *\n   * For example, if you want to scan faces only once per second to avoid excessive\n   * CPU usage, use {@linkcode runAtTargetFps runAtTargetFps(1, ...)}.\n   *\n   * @param fps The target FPS rate at which the given function should be executed\n   * @param func The function to execute.\n   * @returns The result of the function if it was executed, or `undefined` otherwise.\n   * @worklet\n   * @example\n   *\n   * ```ts\n   * const frameProcessor = useFrameProcessor((frame) => {\n   *   'worklet'\n   *   console.log('New Frame')\n   *   runAtTargetFps(5, () => {\n   *     'worklet'\n   *     const faces = detectFaces(frame)\n   *     console.log(`Detected a new face: ${faces[0]}`)\n   *   })\n   * })\n   * ```\n   */\n  const _worklet_12248206927550_init_data = {\n    code: \"function runAtTargetFps_reactNativeVisionCamera_runAtTargetFpsJs3(fps,func){const{getLastFrameProcessorCall,setLastFrameProcessorCall}=this.__closure;var _func$__workletHash;const funcId=(_func$__workletHash=func.__workletHash)!==null&&_func$__workletHash!==void 0?_func$__workletHash:'1';const targetIntervalMs=1000/fps;const now=performance.now();const diffToLastCall=now-getLastFrameProcessorCall(funcId);if(diffToLastCall>=targetIntervalMs){setLastFrameProcessorCall(funcId,now);return func();}return undefined;}\",\n    location: \"/app/frontend/node_modules/react-native-vision-camera/lib/commonjs/frame-processors/runAtTargetFps.js\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"runAtTargetFps_reactNativeVisionCamera_runAtTargetFpsJs3\\\",\\\"fps\\\",\\\"func\\\",\\\"getLastFrameProcessorCall\\\",\\\"setLastFrameProcessorCall\\\",\\\"__closure\\\",\\\"_func$__workletHash\\\",\\\"funcId\\\",\\\"__workletHash\\\",\\\"targetIntervalMs\\\",\\\"now\\\",\\\"performance\\\",\\\"diffToLastCall\\\",\\\"undefined\\\"],\\\"sources\\\":[\\\"/app/frontend/node_modules/react-native-vision-camera/lib/commonjs/frame-processors/runAtTargetFps.js\\\"],\\\"mappings\\\":\\\"AAkBA,SAAAA,yDAAAC,GAAA,CAAAC,IAAA,QAAAC,yBAAA,CAAAC,yBAAA,OAAAC,SAAA,KAAAC,mBAAA,CAGA,MAAAC,MAAA,EAAAD,mBAAA,CAAAJ,IAAA,CAAAM,aAAA,UAAAF,mBAAA,UAAAA,mBAAA,KACA,MAAAG,gBAAA,MAAAR,GAAA,CACA,MAAAS,GAAA,CAAAC,WAAA,CAAAD,GAAA,GACA,MAAAE,cAAA,CAAAF,GAAA,CAAAP,yBAAA,CAAAI,MAAA,EACA,GAAAK,cAAA,EAAAH,gBAAA,EACAL,yBAAA,CAAAG,MAAA,CAAAG,GAAA,EAEA,OAAAR,IAAA,GACA,CACA,OAAAW,SAAA,CACA\\\",\\\"ignoreList\\\":[]}\"\n  };\n  const runAtTargetFps = function runAtTargetFps_reactNativeVisionCamera_runAtTargetFpsJs3Factory({\n    _worklet_12248206927550_init_data,\n    getLastFrameProcessorCall,\n    setLastFrameProcessorCall\n  }) {\n    const _e = [new global.Error(), -3, -27];\n    const runAtTargetFps = function (fps, func) {\n      // @ts-expect-error\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const funcId = func.__workletHash ?? '1';\n      const targetIntervalMs = 1000 / fps; // <-- 60 FPS => 16,6667ms interval\n      const now = performance.now();\n      const diffToLastCall = now - getLastFrameProcessorCall(funcId);\n      if (diffToLastCall >= targetIntervalMs) {\n        setLastFrameProcessorCall(funcId, now);\n        // Last Frame Processor call is already so long ago that we want to make a new call\n        return func();\n      }\n      return undefined;\n    };\n    runAtTargetFps.__closure = {\n      getLastFrameProcessorCall,\n      setLastFrameProcessorCall\n    };\n    runAtTargetFps.__workletHash = 12248206927550;\n    runAtTargetFps.__pluginVersion = \"0.7.1\";\n    runAtTargetFps.__initData = _worklet_12248206927550_init_data;\n    runAtTargetFps.__stackDetails = _e;\n    return runAtTargetFps;\n  }({\n    _worklet_12248206927550_init_data,\n    getLastFrameProcessorCall,\n    setLastFrameProcessorCall\n  });\n});","lineCount":117,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"runAtTargetFps"],[7,24,6,22],[7,27,6,25,"runAtTargetFps"],[7,41,6,39],[8,2,6,40],[8,8,6,40,"_worklet_8194825293313_init_data"],[8,40,6,40],[9,4,6,40,"code"],[9,8,6,40],[10,4,6,40,"location"],[10,12,6,40],[11,4,6,40,"sourceMap"],[11,13,6,40],[12,2,6,40],[13,2,6,40],[13,8,6,40,"getLastFrameProcessorCall"],[13,33,6,40],[13,36,7,0],[13,45,7,0,"getLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs1Factory"],[13,120,7,0],[14,4,7,0,"_worklet_8194825293313_init_data"],[15,2,7,0],[16,4,7,0],[16,10,7,0,"_e"],[16,12,7,0],[16,20,7,0,"global"],[16,26,7,0],[16,27,7,0,"Error"],[16,32,7,0],[17,4,7,0],[17,10,7,0,"getLastFrameProcessorCall"],[17,35,7,0],[17,47,7,0,"getLastFrameProcessorCall"],[17,48,7,35,"frameProcessorFuncId"],[17,68,7,55],[17,70,7,57],[18,6,10,2],[18,13,10,9,"global"],[18,19,10,15],[18,20,10,16,"__frameProcessorRunAtTargetFpsMap"],[18,53,10,49],[18,56,10,52,"frameProcessorFuncId"],[18,76,10,72],[18,77,10,73],[18,81,10,77],[18,82,10,78],[19,4,11,0],[19,5,11,1],[20,4,11,1,"getLastFrameProcessorCall"],[20,29,11,1],[20,30,11,1,"__closure"],[20,39,11,1],[21,4,11,1,"getLastFrameProcessorCall"],[21,29,11,1],[21,30,11,1,"__workletHash"],[21,43,11,1],[22,4,11,1,"getLastFrameProcessorCall"],[22,29,11,1],[22,30,11,1,"__pluginVersion"],[22,45,11,1],[23,4,11,1,"getLastFrameProcessorCall"],[23,29,11,1],[23,30,11,1,"__initData"],[23,40,11,1],[23,43,11,1,"_worklet_8194825293313_init_data"],[23,75,11,1],[24,4,11,1,"getLastFrameProcessorCall"],[24,29,11,1],[24,30,11,1,"__stackDetails"],[24,44,11,1],[24,47,11,1,"_e"],[24,49,11,1],[25,4,11,1],[25,11,11,1,"getLastFrameProcessorCall"],[25,36,11,1],[26,2,11,1],[26,3,7,0],[27,4,7,0,"_worklet_8194825293313_init_data"],[28,2,7,0],[29,2,7,0],[29,8,7,0,"_worklet_4153016578430_init_data"],[29,40,7,0],[30,4,7,0,"code"],[30,8,7,0],[31,4,7,0,"location"],[31,12,7,0],[32,4,7,0,"sourceMap"],[32,13,7,0],[33,2,7,0],[34,2,7,0],[34,8,7,0,"setLastFrameProcessorCall"],[34,33,7,0],[34,36,12,0],[34,45,12,0,"setLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs2Factory"],[34,120,12,0],[35,4,12,0,"_worklet_4153016578430_init_data"],[36,2,12,0],[37,4,12,0],[37,10,12,0,"_e"],[37,12,12,0],[37,20,12,0,"global"],[37,26,12,0],[37,27,12,0,"Error"],[37,32,12,0],[38,4,12,0],[38,10,12,0,"setLastFrameProcessorCall"],[38,35,12,0],[38,47,12,0,"setLastFrameProcessorCall"],[38,48,12,35,"frameProcessorFuncId"],[38,68,12,55],[38,70,12,57,"value"],[38,75,12,62],[38,77,12,64],[39,6,15,2],[39,10,15,6,"global"],[39,16,15,12],[39,17,15,13,"__frameProcessorRunAtTargetFpsMap"],[39,50,15,46],[39,54,15,50],[39,58,15,54],[39,60,15,56,"global"],[39,66,15,62],[39,67,15,63,"__frameProcessorRunAtTargetFpsMap"],[39,100,15,96],[39,103,15,99],[39,104,15,100],[39,105,15,101],[40,6,16,2,"global"],[40,12,16,8],[40,13,16,9,"__frameProcessorRunAtTargetFpsMap"],[40,46,16,42],[40,47,16,43,"frameProcessorFuncId"],[40,67,16,63],[40,68,16,64],[40,71,16,67,"value"],[40,76,16,72],[41,4,17,0],[41,5,17,1],[42,4,17,1,"setLastFrameProcessorCall"],[42,29,17,1],[42,30,17,1,"__closure"],[42,39,17,1],[43,4,17,1,"setLastFrameProcessorCall"],[43,29,17,1],[43,30,17,1,"__workletHash"],[43,43,17,1],[44,4,17,1,"setLastFrameProcessorCall"],[44,29,17,1],[44,30,17,1,"__pluginVersion"],[44,45,17,1],[45,4,17,1,"setLastFrameProcessorCall"],[45,29,17,1],[45,30,17,1,"__initData"],[45,40,17,1],[45,43,17,1,"_worklet_4153016578430_init_data"],[45,75,17,1],[46,4,17,1,"setLastFrameProcessorCall"],[46,29,17,1],[46,30,17,1,"__stackDetails"],[46,44,17,1],[46,47,17,1,"_e"],[46,49,17,1],[47,4,17,1],[47,11,17,1,"setLastFrameProcessorCall"],[47,36,17,1],[48,2,17,1],[48,3,12,0],[49,4,12,0,"_worklet_4153016578430_init_data"],[50,2,12,0],[51,2,19,0],[52,0,20,0],[53,0,21,0],[54,0,22,0],[55,0,23,0],[56,0,24,0],[57,0,25,0],[58,0,26,0],[59,0,27,0],[60,0,28,0],[61,0,29,0],[62,0,30,0],[63,0,31,0],[64,0,32,0],[65,0,33,0],[66,0,34,0],[67,0,35,0],[68,0,36,0],[69,0,37,0],[70,0,38,0],[71,0,39,0],[72,0,40,0],[73,0,41,0],[74,0,42,0],[75,0,43,0],[76,0,44,0],[77,0,45,0],[78,2,19,0],[78,8,19,0,"_worklet_12248206927550_init_data"],[78,41,19,0],[79,4,19,0,"code"],[79,8,19,0],[80,4,19,0,"location"],[80,12,19,0],[81,4,19,0,"sourceMap"],[81,13,19,0],[82,2,19,0],[83,2,19,0],[83,8,19,0,"runAtTargetFps"],[83,22,19,0],[83,25,46,0],[83,34,46,0,"runAtTargetFps_reactNativeVisionCamera_runAtTargetFpsJs3Factory"],[83,98,46,0],[84,4,46,0,"_worklet_12248206927550_init_data"],[84,37,46,0],[85,4,54,31,"getLastFrameProcessorCall"],[85,29,54,56],[86,4,56,4,"setLastFrameProcessorCall"],[87,2,56,29],[88,4,56,29],[88,10,56,29,"_e"],[88,12,56,29],[88,20,56,29,"global"],[88,26,56,29],[88,27,56,29,"Error"],[88,32,56,29],[89,4,56,29],[89,10,56,29,"runAtTargetFps"],[89,24,56,29],[89,36,56,29,"runAtTargetFps"],[89,37,46,24,"fps"],[89,40,46,27],[89,42,46,29,"func"],[89,46,46,33],[89,48,46,35],[90,6,49,2],[91,6,50,2],[92,6,51,2],[92,12,51,8,"funcId"],[92,18,51,14],[92,21,51,17,"func"],[92,25,51,21],[92,26,51,22,"__workletHash"],[92,39,51,35],[92,43,51,39],[92,46,51,42],[93,6,52,2],[93,12,52,8,"targetIntervalMs"],[93,28,52,24],[93,31,52,27],[93,35,52,31],[93,38,52,34,"fps"],[93,41,52,37],[93,42,52,38],[93,43,52,39],[94,6,53,2],[94,12,53,8,"now"],[94,15,53,11],[94,18,53,14,"performance"],[94,29,53,25],[94,30,53,26,"now"],[94,33,53,29],[94,34,53,30],[94,35,53,31],[95,6,54,2],[95,12,54,8,"diffToLastCall"],[95,26,54,22],[95,29,54,25,"now"],[95,32,54,28],[95,35,54,31,"getLastFrameProcessorCall"],[95,60,54,56],[95,61,54,57,"funcId"],[95,67,54,63],[95,68,54,64],[96,6,55,2],[96,10,55,6,"diffToLastCall"],[96,24,55,20],[96,28,55,24,"targetIntervalMs"],[96,44,55,40],[96,46,55,42],[97,8,56,4,"setLastFrameProcessorCall"],[97,33,56,29],[97,34,56,30,"funcId"],[97,40,56,36],[97,42,56,38,"now"],[97,45,56,41],[97,46,56,42],[98,8,57,4],[99,8,58,4],[99,15,58,11,"func"],[99,19,58,15],[99,20,58,16],[99,21,58,17],[100,6,59,2],[101,6,60,2],[101,13,60,9,"undefined"],[101,22,60,18],[102,4,61,0],[102,5,61,1],[103,4,61,1,"runAtTargetFps"],[103,18,61,1],[103,19,61,1,"__closure"],[103,28,61,1],[104,6,54,31,"getLastFrameProcessorCall"],[104,31,54,56],[105,6,56,4,"setLastFrameProcessorCall"],[106,4,56,29],[107,4,56,29,"runAtTargetFps"],[107,18,56,29],[107,19,56,29,"__workletHash"],[107,32,56,29],[108,4,56,29,"runAtTargetFps"],[108,18,56,29],[108,19,56,29,"__pluginVersion"],[108,34,56,29],[109,4,56,29,"runAtTargetFps"],[109,18,56,29],[109,19,56,29,"__initData"],[109,29,56,29],[109,32,56,29,"_worklet_12248206927550_init_data"],[109,65,56,29],[110,4,56,29,"runAtTargetFps"],[110,18,56,29],[110,19,56,29,"__stackDetails"],[110,33,56,29],[110,36,56,29,"_e"],[110,38,56,29],[111,4,56,29],[111,11,56,29,"runAtTargetFps"],[111,25,56,29],[112,2,56,29],[112,3,46,0],[113,4,46,0,"_worklet_12248206927550_init_data"],[113,37,46,0],[114,4,54,31,"getLastFrameProcessorCall"],[114,29,54,56],[115,4,56,4,"setLastFrameProcessorCall"],[116,2,56,29],[117,0,56,29],[117,3]],"functionMap":{"names":["<global>","getLastFrameProcessorCall","setLastFrameProcessorCall","runAtTargetFps"],"mappings":"AAA;ACM;CDI;AEC;CFK;AG6B;CHe"},"hasCjsExports":true},"type":"js/module"}]}